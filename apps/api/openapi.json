{"openapi":"3.1.0","info":{"title":"Inbox Multicanal API","description":"API para centralizar atendimento comercial via Telegram, Email e SMS","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/contacts":{"get":{"tags":["contacts"],"summary":"List Contacts","operationId":"list_contacts_contacts_get","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cursor"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Contact"},"title":"Response List Contacts Contacts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["contacts"],"summary":"Create Contact","operationId":"create_contact_contacts_post","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Contact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/contacts/{contact_id}":{"get":{"tags":["contacts"],"summary":"Get Contact","operationId":"get_contact_contacts__contact_id__get","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactWithIdentities"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["contacts"],"summary":"Update Contact","operationId":"update_contact_contacts__contact_id__patch","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Contact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["contacts"],"summary":"Delete Contact","operationId":"delete_contact_contacts__contact_id__delete","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/contacts/{contact_id}/link-identity":{"post":{"tags":["contacts"],"summary":"Link Identity","operationId":"link_identity_contacts__contact_id__link_identity_post","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkIdentityRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/contacts/{contact_id}/unlink-identity":{"post":{"tags":["contacts"],"summary":"Unlink Identity","operationId":"unlink_identity_contacts__contact_id__unlink_identity_post","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnlinkIdentityRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/contacts/link-by-email":{"post":{"tags":["contacts"],"summary":"Link Contact By Email","description":"Busca ou cria contato por email.\nSe conversation_id fornecido, vincula conversa ao contato.","operationId":"link_contact_by_email_contacts_link_by_email_post","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkByEmailRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkByEmailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/contacts/{contact_id}/history":{"get":{"tags":["contacts"],"summary":"Get Contact History","description":"Retorna historico completo do contato:\n- Compras (tabela purchases)\n- Deals vinculados\n- Conversas em todos os canais\n- Estatisticas agregadas","operationId":"get_contact_history_contacts__contact_id__history_get","parameters":[{"name":"contact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Contact Id"}},{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations":{"get":{"tags":["conversations"],"summary":"List Conversations","operationId":"list_conversations_conversations_get","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}],"title":"Channel"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ConversationStatus"},{"type":"null"}],"title":"Status"}},{"name":"tag_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag Ids"}},{"name":"assigned_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Assigned To"}},{"name":"unlinked","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Unlinked"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cursor"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":20,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Conversation"},"title":"Response List Conversations Conversations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}":{"get":{"tags":["conversations"],"summary":"Get Conversation","operationId":"get_conversation_conversations__conversation_id__get","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["conversations"],"summary":"Update Conversation","operationId":"update_conversation_conversations__conversation_id__patch","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conversation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["conversations"],"summary":"Delete Conversation","description":"Exclui conversa e suas mensagens permanentemente.","operationId":"delete_conversation_conversations__conversation_id__delete","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/messages":{"get":{"tags":["conversations"],"summary":"List Messages","operationId":"list_messages_conversations__conversation_id__messages_get","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cursor"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/tags":{"post":{"tags":["conversations"],"summary":"Add Tag","operationId":"add_tag_conversations__conversation_id__tags_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTagRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/tags/{tag_id}":{"delete":{"tags":["conversations"],"summary":"Remove Tag","operationId":"remove_tag_conversations__conversation_id__tags__tag_id__delete","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/merge":{"post":{"tags":["conversations"],"summary":"Merge Conversations","operationId":"merge_conversations_conversations__conversation_id__merge_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MergeConversationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/sync-history":{"post":{"tags":["conversations"],"summary":"Sync Conversation History","description":"Cria job para sincronizar histórico de mensagens da conversa.","operationId":"sync_conversation_history_conversations__conversation_id__sync_history_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"default":10000,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/archive":{"post":{"tags":["conversations"],"summary":"Archive Conversation","description":"Arquiva uma conversa.","operationId":"archive_conversation_conversations__conversation_id__archive_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/conversations/{conversation_id}/unarchive":{"post":{"tags":["conversations"],"summary":"Unarchive Conversation","description":"Desarquiva uma conversa.","operationId":"unarchive_conversation_conversations__conversation_id__unarchive_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/send":{"post":{"tags":["messages"],"summary":"Send Message","operationId":"send_message_messages_send_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageSendRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/{message_id}":{"get":{"tags":["messages"],"summary":"Get Message","operationId":"get_message_messages__message_id__get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Message Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageWithAttachments"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["messages"],"summary":"Edit Message","description":"Edita o texto de uma mensagem.\nSó pode editar mensagens outbound (enviadas pelo usuário).\nPara Telegram: chama webhook n8n que edita via worker.","operationId":"edit_message_messages__message_id__put","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Message Id"}},{"name":"text","in":"query","required":true,"schema":{"type":"string","description":"Novo texto da mensagem","title":"Text"},"description":"Novo texto da mensagem"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["messages"],"summary":"Delete Message","description":"Deleta uma mensagem (soft delete).\nSó pode deletar mensagens outbound (enviadas pelo usuário).\nPara Telegram: chama webhook n8n que deleta via worker.\n\nArgs:\n    for_everyone: Se True, apaga para todos (revoke). Se False, só para mim.","operationId":"delete_message_messages__message_id__delete","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Message Id"}},{"name":"for_everyone","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"For Everyone"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/typing":{"post":{"tags":["messages"],"summary":"Send Typing","description":"Envia indicador de digitação para o canal.\nCria um job para o worker enviar o typing action.","operationId":"send_typing_messages_typing_post","parameters":[{"name":"conversation_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tags":{"get":{"tags":["tags"],"summary":"List Tags","operationId":"list_tags_tags_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Tag"},"title":"Response List Tags Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tags"],"summary":"Create Tag","operationId":"create_tag_tags_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tags/{tag_id}":{"patch":{"tags":["tags"],"summary":"Update Tag","operationId":"update_tag_tags__tag_id__patch","parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Tag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tags"],"summary":"Delete Tag","operationId":"delete_tag_tags__tag_id__delete","parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/templates":{"get":{"tags":["templates"],"summary":"List Templates","operationId":"list_templates_templates_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Template"},"title":"Response List Templates Templates Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["templates"],"summary":"Create Template","operationId":"create_template_templates_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/templates/{template_id}":{"patch":{"tags":["templates"],"summary":"Update Template","operationId":"update_template_templates__template_id__patch","parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Template"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["templates"],"summary":"Delete Template","operationId":"delete_template_templates__template_id__delete","parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Template Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/sign-upload":{"post":{"tags":["storage"],"summary":"Sign Upload","operationId":"sign_upload_storage_sign_upload_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUploadRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/storage/sign-download":{"post":{"tags":["storage"],"summary":"Sign Download","operationId":"sign_download_storage_sign_download_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignDownloadRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignDownloadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/auth/start":{"post":{"tags":["telegram"],"summary":"Start Auth","description":"Inicia auth Telegram enviando código SMS.","operationId":"start_auth_telegram_auth_start_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramStartAuthRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramStartAuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/auth/verify-code":{"post":{"tags":["telegram"],"summary":"Verify Code","description":"Verifica código e finaliza auth (ou pede 2FA).","operationId":"verify_code_telegram_auth_verify_code_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramVerifyCodeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramVerifyCodeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/auth/verify-2fa":{"post":{"tags":["telegram"],"summary":"Verify 2Fa","description":"Verifica senha 2FA e finaliza auth.","operationId":"verify_2fa_telegram_auth_verify_2fa_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramVerify2FARequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramVerify2FAResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/accounts":{"get":{"tags":["telegram"],"summary":"List Accounts","description":"Lista contas Telegram do usuário/workspace.","operationId":"list_accounts_telegram_accounts_get","parameters":[{"name":"workspace_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/accounts/{account_id}":{"patch":{"tags":["telegram"],"summary":"Update Account","description":"Atualiza label da conta Telegram.","operationId":"update_account_telegram_accounts__account_id__patch","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"label","in":"query","required":true,"schema":{"type":"string","title":"Label"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["telegram"],"summary":"Delete Account","description":"Remove conta Telegram. Mensagens são preservadas (integration_account_id fica NULL).","operationId":"delete_account_telegram_accounts__account_id__delete","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/workers/status":{"get":{"tags":["telegram"],"summary":"Get Workers Status","description":"Retorna status dos workers Telegram.","operationId":"get_workers_status_telegram_workers_status_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkersStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/sync-history":{"post":{"tags":["telegram"],"summary":"Sync History","description":"Descobre conversas com atividade recente e sincroniza histórico COMPLETO de cada uma.","operationId":"sync_history_telegram_sync_history_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncHistoryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/start-chat":{"post":{"tags":["telegram"],"summary":"Start Chat","description":"Inicia ou busca chat com um usuário do Telegram.","operationId":"start_chat_telegram_start_chat_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/telegram/sync-history/status":{"get":{"tags":["telegram"],"summary":"Get Sync Status","description":"Retorna status dos jobs de sync.","operationId":"get_sync_status_telegram_sync_history_status_get","parameters":[{"name":"account_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SyncJobStatus"},"title":"Response Get Sync Status Telegram Sync History Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/translate/message/{message_id}":{"post":{"tags":["translate"],"summary":"Translate Message","description":"Traduz uma mensagem individual.","operationId":"translate_message_translate_message__message_id__post","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Message Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateMessageRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateMessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["translate"],"summary":"Get Translation","description":"Busca tradução em cache (não traduz se não existir).","operationId":"get_translation_translate_message__message_id__get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Message Id"}},{"name":"target_lang","in":"query","required":false,"schema":{"type":"string","default":"pt-BR","title":"Target Lang"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TranslateMessageResponse"},{"type":"null"}],"title":"Response Get Translation Translate Message  Message Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/translate/conversation/{conversation_id}/cache":{"get":{"tags":["translate"],"summary":"Get Conversation Translations Cache","description":"Busca traduções em cache da conversa (não traduz).","operationId":"get_conversation_translations_cache_translate_conversation__conversation_id__cache_get","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"target_lang","in":"query","required":false,"schema":{"type":"string","default":"pt-BR","title":"Target Lang"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateConversationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/translate/conversation/{conversation_id}":{"post":{"tags":["translate"],"summary":"Translate Conversation","description":"Traduz todas as mensagens de uma conversa (batch).","operationId":"translate_conversation_translate_conversation__conversation_id__post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateConversationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateConversationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/translate/draft":{"post":{"tags":["translate"],"summary":"Translate Draft","description":"Traduz rascunho PT→EN. Suporta DeepL (melhor) ou Google Translate (fallback).","operationId":"translate_draft_translate_draft_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateDraftRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateDraftResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai/conversation/{conversation_id}/suggest":{"post":{"tags":["ai"],"summary":"Suggest Reply","description":"Gera sugestão de resposta em inglês para a conversa.\nUsa Gemini Pro para gerar resposta contextualizada.","operationId":"suggest_reply_ai_conversation__conversation_id__suggest_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuggestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai/conversation/{conversation_id}/summarize":{"post":{"tags":["ai"],"summary":"Summarize Conversation","description":"Gera resumo da conversa em português.\nUsa Gemini Pro para resumir contexto e status.","operationId":"summarize_conversation_ai_conversation__conversation_id__summarize_post","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai/suggestion/{suggestion_id}/feedback":{"post":{"tags":["ai"],"summary":"Record Feedback","description":"Registra feedback sobre uma sugestão de IA.\nAções: accepted, rejected, edited.","operationId":"record_feedback_ai_suggestion__suggestion_id__feedback_post","parameters":[{"name":"suggestion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Suggestion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai/conversation/{conversation_id}/suggestions":{"get":{"tags":["ai"],"summary":"List Suggestions","description":"Lista sugestões anteriores de uma conversa.","operationId":"list_suggestions_ai_conversation__conversation_id__suggestions_get","parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prompts/":{"get":{"tags":["prompts"],"summary":"List Prompts","description":"Lista todos os prompts do usuário.","operationId":"list_prompts_prompts__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PromptResponse"},"type":"array","title":"Response List Prompts Prompts  Get"}}}}}},"post":{"tags":["prompts"],"summary":"Create Prompt","description":"Cria um novo prompt.","operationId":"create_prompt_prompts__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prompts/{prompt_id}":{"get":{"tags":["prompts"],"summary":"Get Prompt","description":"Busca um prompt específico.","operationId":"get_prompt_prompts__prompt_id__get","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["prompts"],"summary":"Update Prompt","description":"Atualiza um prompt (cria nova versão se content mudar).","operationId":"update_prompt_prompts__prompt_id__put","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["prompts"],"summary":"Delete Prompt","description":"Deleta um prompt.","operationId":"delete_prompt_prompts__prompt_id__delete","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prompts/{prompt_id}/versions":{"get":{"tags":["prompts"],"summary":"List Prompt Versions","description":"Lista histórico de versões de um prompt.","operationId":"list_prompt_versions_prompts__prompt_id__versions_get","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PromptVersionResponse"},"title":"Response List Prompt Versions Prompts  Prompt Id  Versions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prompts/{prompt_id}/revert/{version}":{"post":{"tags":["prompts"],"summary":"Revert Prompt Version","description":"Reverte prompt para uma versão anterior.","operationId":"revert_prompt_version_prompts__prompt_id__revert__version__post","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"integer","title":"Version"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prompts/{prompt_id}/test":{"post":{"tags":["prompts"],"summary":"Test Prompt","description":"Testa um prompt com texto de conversa.","operationId":"test_prompt_prompts__prompt_id__test_post","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/accounts":{"post":{"tags":["openphone"],"summary":"Create Account","description":"Cadastra conta OpenPhone.","operationId":"create_account_openphone_accounts_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenPhoneAccountCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenPhoneAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["openphone"],"summary":"List Accounts","description":"Lista contas OpenPhone.","operationId":"list_accounts_openphone_accounts_get","parameters":[{"name":"workspace_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/accounts/{account_id}":{"delete":{"tags":["openphone"],"summary":"Delete Account","description":"Remove conta OpenPhone.","operationId":"delete_account_openphone_accounts__account_id__delete","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/contacts/sync":{"post":{"tags":["openphone"],"summary":"Sync Contacts","description":"Sincroniza contatos do OpenPhone para contact_identities.\n\nBusca todos os contatos da conta OpenPhone e atualiza metadata.display_name\nnas identidades de telefone correspondentes.","operationId":"sync_contacts_openphone_contacts_sync_post","parameters":[{"name":"account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/send":{"post":{"tags":["openphone"],"summary":"Send Sms","description":"Envia SMS via OpenPhone (direto - para uso administrativo).","operationId":"send_sms_openphone_send_post","parameters":[{"name":"account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSMSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSMSResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/internal/send":{"post":{"tags":["openphone"],"summary":"Internal Send Sms","description":"Endpoint interno para n8n enviar SMS.\n\nDescriptografa a API key do OpenPhone e envia a mensagem.\nAutenticado via X-API-KEY (mesmo do n8n webhook).","operationId":"internal_send_sms_openphone_internal_send_post","parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalSendSMSRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalSendSMSResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/webhook/inbound":{"post":{"tags":["openphone"],"summary":"Webhook Inbound","description":"Webhook para SMS recebido (message.received).\n\nValida assinatura e encaminha para n8n processar.","operationId":"webhook_inbound_openphone_webhook_inbound_post","parameters":[{"name":"X-Openphone-Signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Openphone-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/openphone/webhook/status":{"post":{"tags":["openphone"],"summary":"Webhook Status","description":"Webhook para status de entrega (message.delivered).\n\nValida assinatura e encaminha para n8n processar.","operationId":"webhook_status_openphone_webhook_status_post","parameters":[{"name":"X-Openphone-Signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Openphone-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/email/accounts":{"post":{"tags":["email"],"summary":"Create Account","description":"Cadastra conta Email IMAP/SMTP.","operationId":"create_account_email_accounts_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAccountCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["email"],"summary":"List Accounts","description":"Lista contas Email.","operationId":"list_accounts_email_accounts_get","parameters":[{"name":"workspace_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/email/accounts/{account_id}":{"delete":{"tags":["email"],"summary":"Delete Account","description":"Remove conta Email. Mensagens são preservadas (integration_account_id fica NULL).","operationId":"delete_account_email_accounts__account_id__delete","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/email/accounts/{account_id}/test":{"post":{"tags":["email"],"summary":"Test Account","description":"Testa conexao da conta Email.","operationId":"test_account_email_accounts__account_id__test_post","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/email/sync-history":{"post":{"tags":["email"],"summary":"Sync Email History","description":"Sincroniza historico de emails via IMAP.","operationId":"sync_email_history_email_sync_history_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailSyncRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/logs":{"get":{"tags":["logs"],"summary":"List Logs","description":"Lista logs do sistema com filtros.","operationId":"list_logs_logs_get","parameters":[{"name":"level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Level"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/logs/stats":{"get":{"tags":["logs"],"summary":"Get Log Stats","description":"Retorna estatísticas de logs.","operationId":"get_log_stats_logs_stats_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/export/conversations/json":{"get":{"tags":["export"],"summary":"Export Conversations Json","description":"Exporta conversas e mensagens em JSON.","operationId":"export_conversations_json_export_conversations_json_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/export/conversations/csv":{"get":{"tags":["export"],"summary":"Export Conversations Csv","description":"Exporta conversas em CSV (sem mensagens, apenas metadados).","operationId":"export_conversations_csv_export_conversations_csv_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/export/messages/json":{"get":{"tags":["export"],"summary":"Export Messages Json","description":"Exporta mensagens em JSON.","operationId":"export_messages_json_export_messages_json_get","parameters":[{"name":"conversation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"}},{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":5000,"default":1000,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/export/messages/csv":{"get":{"tags":["export"],"summary":"Export Messages Csv","description":"Exporta mensagens em CSV.","operationId":"export_messages_csv_export_messages_csv_get","parameters":[{"name":"conversation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"}},{"name":"channel","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Channel"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":5000,"default":1000,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/export/contacts/csv":{"get":{"tags":["export"],"summary":"Export Contacts Csv","description":"Exporta contatos em CSV.","operationId":"export_contacts_csv_export_contacts_csv_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transcribe/attachment/{attachment_id}":{"post":{"tags":["transcribe"],"summary":"Transcribe Attachment","description":"Transcreve um anexo de áudio.","operationId":"transcribe_attachment_transcribe_attachment__attachment_id__post","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["transcribe"],"summary":"Get Transcription","description":"Busca transcrição em cache.","operationId":"get_transcription_transcribe_attachment__attachment_id__get","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TranscriptionResponse"},{"type":"null"}],"title":"Response Get Transcription Transcribe Attachment  Attachment Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai-config/functions":{"get":{"tags":["ai-config"],"summary":"List Functions","description":"Lista todas as funções de IA configuráveis.","operationId":"list_functions_ai_config_functions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/FunctionInfo"},"type":"array","title":"Response List Functions Ai Config Functions Get"}}}}}}},"/ai-config/models":{"get":{"tags":["ai-config"],"summary":"List Models","description":"Lista todos os modelos disponíveis.","operationId":"list_models_ai_config_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ModelResponse"},"type":"array","title":"Response List Models Ai Config Models Get"}}}}}},"post":{"tags":["ai-config"],"summary":"Create Model","description":"Adiciona um novo modelo.","operationId":"create_model_ai_config_models_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai-config/models/{model_uuid}":{"put":{"tags":["ai-config"],"summary":"Update Model","description":"Atualiza um modelo.","operationId":"update_model_ai_config_models__model_uuid__put","parameters":[{"name":"model_uuid","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Model Uuid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["ai-config"],"summary":"Delete Model","description":"Remove um modelo.","operationId":"delete_model_ai_config_models__model_uuid__delete","parameters":[{"name":"model_uuid","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Model Uuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai-config/config":{"get":{"tags":["ai-config"],"summary":"Get Config","description":"Retorna configuração de modelos para cada função.","operationId":"get_config_ai_config_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ConfigResponse"},"type":"array","title":"Response Get Config Ai Config Config Get"}}}}}}},"/ai-config/config/{function_key}":{"put":{"tags":["ai-config"],"summary":"Update Config","description":"Atualiza modelo usado para uma função.","operationId":"update_config_ai_config_config__function_key__put","parameters":[{"name":"function_key","in":"path","required":true,"schema":{"type":"string","title":"Function Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ai-config/config/{function_key}/model":{"get":{"tags":["ai-config"],"summary":"Get Function Model","description":"Retorna o model_id configurado para uma função (usado internamente).","operationId":"get_function_model_ai_config_config__function_key__model_get","parameters":[{"name":"function_key","in":"path","required":true,"schema":{"type":"string","title":"Function Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines":{"get":{"tags":["pipelines"],"summary":"List Pipelines","description":"Lista todos os pipelines do workspace.","operationId":"list_pipelines_pipelines_get","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"include_archived","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Archived"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Pipeline"},"title":"Response List Pipelines Pipelines Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["pipelines"],"summary":"Create Pipeline","description":"Cria novo pipeline com stages padrão.","operationId":"create_pipeline_pipelines_post","parameters":[{"name":"workspace_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"ID do workspace","title":"Workspace Id"},"description":"ID do workspace"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pipeline"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines/{pipeline_id}":{"get":{"tags":["pipelines"],"summary":"Get Pipeline","description":"Retorna pipeline com suas stages.","operationId":"get_pipeline_pipelines__pipeline_id__get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineWithStages"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["pipelines"],"summary":"Update Pipeline","description":"Atualiza pipeline.","operationId":"update_pipeline_pipelines__pipeline_id__patch","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pipeline"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["pipelines"],"summary":"Archive Pipeline","description":"Arquiva pipeline (soft delete).","operationId":"archive_pipeline_pipelines__pipeline_id__delete","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines/{pipeline_id}/stages":{"get":{"tags":["pipelines"],"summary":"List Stages","description":"Lista stages do pipeline.","operationId":"list_stages_pipelines__pipeline_id__stages_get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Stage"},"title":"Response List Stages Pipelines  Pipeline Id  Stages Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["pipelines"],"summary":"Create Stage","description":"Cria nova stage no pipeline.","operationId":"create_stage_pipelines__pipeline_id__stages_post","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Stage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines/{pipeline_id}/stages/{stage_id}":{"patch":{"tags":["pipelines"],"summary":"Update Stage","description":"Atualiza stage.","operationId":"update_stage_pipelines__pipeline_id__stages__stage_id__patch","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"stage_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Stage Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Stage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["pipelines"],"summary":"Delete Stage","description":"Remove stage (falha se houver deals).","operationId":"delete_stage_pipelines__pipeline_id__stages__stage_id__delete","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"stage_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Stage Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines/{pipeline_id}/stages/reorder":{"post":{"tags":["pipelines"],"summary":"Reorder Stages","description":"Reordena stages do pipeline.","operationId":"reorder_stages_pipelines__pipeline_id__stages_reorder_post","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageReorderRequest"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pipelines/{pipeline_id}/api-key":{"get":{"tags":["pipelines"],"summary":"Get Api Key","description":"Retorna a API key do pipeline (se existir).","operationId":"get_api_key_pipelines__pipeline_id__api_key_get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/PipelineApiKey"},{"type":"null"}],"title":"Response Get Api Key Pipelines  Pipeline Id  Api Key Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["pipelines"],"summary":"Create Or Regenerate Api Key","description":"Cria ou regenera a API key do pipeline.","operationId":"create_or_regenerate_api_key_pipelines__pipeline_id__api_key_post","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineApiKey"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["pipelines"],"summary":"Delete Api Key","description":"Remove a API key do pipeline.","operationId":"delete_api_key_pipelines__pipeline_id__api_key_delete","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals":{"get":{"tags":["deals"],"summary":"List Deals","description":"Lista deals com filtros.","operationId":"list_deals_deals_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"stage_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Stage Id"}},{"name":"contact_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"}},{"name":"min_value","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Min Value"}},{"name":"max_value","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Max Value"}},{"name":"include_archived","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Archived"}},{"name":"include_closed","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Closed"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"default":100,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Deal"},"title":"Response List Deals Deals Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["deals"],"summary":"Create Deal","description":"Cria novo deal.","operationId":"create_deal_deals_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/by-pipeline/{pipeline_id}":{"get":{"tags":["deals"],"summary":"List Deals By Pipeline","description":"Lista deals agrupados por stage (para Kanban).","operationId":"list_deals_by_pipeline_deals_by_pipeline__pipeline_id__get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}":{"get":{"tags":["deals"],"summary":"Get Deal","description":"Retorna deal com detalhes.","operationId":"get_deal_deals__deal_id__get","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["deals"],"summary":"Update Deal","description":"Atualiza deal.","operationId":"update_deal_deals__deal_id__patch","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["deals"],"summary":"Delete Deal","description":"Exclui deal permanentemente.","operationId":"delete_deal_deals__deal_id__delete","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/archive":{"post":{"tags":["deals"],"summary":"Archive Deal","description":"Arquiva deal (soft delete).","operationId":"archive_deal_deals__deal_id__archive_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/move":{"post":{"tags":["deals"],"summary":"Move Deal","description":"Move deal para outra stage.","operationId":"move_deal_deals__deal_id__move_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealMoveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/win":{"post":{"tags":["deals"],"summary":"Win Deal","description":"Marca deal como ganho.","operationId":"win_deal_deals__deal_id__win_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/lose":{"post":{"tags":["deals"],"summary":"Lose Deal","description":"Marca deal como perdido.","operationId":"lose_deal_deals__deal_id__lose_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealLoseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/products":{"get":{"tags":["deals"],"summary":"List Products","description":"Lista produtos do deal.","operationId":"list_products_deals__deal_id__products_get","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DealProduct"},"title":"Response List Products Deals  Deal Id  Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["deals"],"summary":"Add Product","description":"Adiciona produto ao deal. Pode usar product_id do catálogo ou nome/valor manual.","operationId":"add_product_deals__deal_id__products_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealProductCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealProduct"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/products/{product_id}":{"delete":{"tags":["deals"],"summary":"Remove Product","description":"Remove produto do deal.","operationId":"remove_product_deals__deal_id__products__product_id__delete","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"product_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Product Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/activities":{"get":{"tags":["deals"],"summary":"List Activities","description":"Lista atividades do deal (timeline).","operationId":"list_activities_deals__deal_id__activities_get","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["deals"],"summary":"Create Activity","description":"Cria nota ou tarefa no deal.","operationId":"create_activity_deals__deal_id__activities_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealActivityCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealActivity"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/activities/{activity_id}":{"patch":{"tags":["deals"],"summary":"Update Activity","description":"Atualiza atividade (ex: completar task).","operationId":"update_activity_deals__deal_id__activities__activity_id__patch","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"activity_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Activity Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealActivityUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealActivity"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["deals"],"summary":"Delete Activity","description":"Remove atividade.","operationId":"delete_activity_deals__deal_id__activities__activity_id__delete","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"activity_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Activity Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/reopen":{"post":{"tags":["deals"],"summary":"Reopen Deal","description":"Reabre deal fechado (reverte status de ganho ou perdido).","operationId":"reopen_deal_deals__deal_id__reopen_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/tags":{"get":{"tags":["deals"],"summary":"List Deal Tags","description":"Lista tags do deal.","operationId":"list_deal_tags_deals__deal_id__tags_get","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DealTag"},"title":"Response List Deal Tags Deals  Deal Id  Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/tags/{tag_id}":{"post":{"tags":["deals"],"summary":"Add Tag To Deal","description":"Adiciona tag ao deal.","operationId":"add_tag_to_deal_deals__deal_id__tags__tag_id__post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["deals"],"summary":"Remove Tag From Deal","description":"Remove tag do deal.","operationId":"remove_tag_from_deal_deals__deal_id__tags__tag_id__delete","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/files":{"get":{"tags":["deals"],"summary":"List Files","description":"Lista arquivos do deal.","operationId":"list_files_deals__deal_id__files_get","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DealFile"},"title":"Response List Files Deals  Deal Id  Files Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["deals"],"summary":"Add File","description":"Adiciona arquivo ao deal.","operationId":"add_file_deals__deal_id__files_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealFileCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealFile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/files/{file_id}":{"delete":{"tags":["deals"],"summary":"Delete File","description":"Remove arquivo do deal.","operationId":"delete_file_deals__deal_id__files__file_id__delete","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"file_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"File Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deals/{deal_id}/send-message":{"post":{"tags":["deals"],"summary":"Send Message From Deal","description":"Envia mensagem a partir de um deal (para automacoes CRM).\n\nSuporta canais: email, openphone_sms\nApos envio bem-sucedido, dispara trigger message_sent para automacoes.","operationId":"send_message_from_deal_deals__deal_id__send_message_post","parameters":[{"name":"deal_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Deal Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealSendMessageRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/stats":{"get":{"tags":["crm-analytics"],"summary":"Get Crm Stats","description":"Retorna estatísticas gerais do CRM.","operationId":"get_crm_stats_crm_stats_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/funnel/{pipeline_id}":{"get":{"tags":["crm-analytics"],"summary":"Get Funnel Data","description":"Retorna dados do funil de vendas.","operationId":"get_funnel_data_crm_funnel__pipeline_id__get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/performance/{pipeline_id}":{"get":{"tags":["crm-analytics"],"summary":"Get Performance Data","description":"Retorna dados de performance ao longo do tempo.","operationId":"get_performance_data_crm_performance__pipeline_id__get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/top-deals":{"get":{"tags":["crm-analytics"],"summary":"Get Top Deals","description":"Retorna os maiores deals abertos.","operationId":"get_top_deals_crm_top_deals_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":5,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/overdue-deals":{"get":{"tags":["crm-analytics"],"summary":"Get Overdue Deals","description":"Retorna deals com data de fechamento vencida.","operationId":"get_overdue_deals_crm_overdue_deals_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/sales-cycle":{"get":{"tags":["crm-analytics"],"summary":"Get Sales Cycle","description":"Retorna métricas do ciclo de vendas (tempo médio entre criação e won).","operationId":"get_sales_cycle_crm_sales_cycle_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/win-rate-by-stage/{pipeline_id}":{"get":{"tags":["crm-analytics"],"summary":"Get Win Rate By Stage","description":"Retorna win rate por stage (conversão entre stages).","operationId":"get_win_rate_by_stage_crm_win_rate_by_stage__pipeline_id__get","parameters":[{"name":"pipeline_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":90,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/loss-reasons-stats":{"get":{"tags":["crm-analytics"],"summary":"Get Loss Reasons Stats","description":"Retorna estatísticas de motivos de perda.","operationId":"get_loss_reasons_stats_crm_loss_reasons_stats_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":90,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/channel-performance":{"get":{"tags":["crm-analytics"],"summary":"Get Channel Performance","description":"Retorna performance por canal de comunicação.","operationId":"get_channel_performance_crm_channel_performance_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crm/comparison":{"get":{"tags":["crm-analytics"],"summary":"Get Comparison","description":"Retorna comparativo entre período atual e anterior.","operationId":"get_comparison_crm_comparison_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/products":{"get":{"tags":["products"],"summary":"List Products","description":"Lista produtos do catálogo.","operationId":"list_products_products_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Inactive"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"default":100,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Product"},"title":"Response List Products Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["products"],"summary":"Create Product","description":"Cria novo produto no catálogo.","operationId":"create_product_products_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/products/categories":{"get":{"tags":["products"],"summary":"List Categories","description":"Lista categorias únicas de produtos.","operationId":"list_categories_products_categories_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/products/{product_id}":{"get":{"tags":["products"],"summary":"Get Product","description":"Retorna produto do catálogo.","operationId":"get_product_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Product Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["products"],"summary":"Update Product","description":"Atualiza produto do catálogo.","operationId":"update_product_products__product_id__patch","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Product Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["products"],"summary":"Delete Product","description":"Desativa produto (soft delete).","operationId":"delete_product_products__product_id__delete","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Product Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deal-tags":{"get":{"tags":["deal-tags"],"summary":"List Tags","description":"Lista todas as tags do usuário.","operationId":"list_tags_deal_tags_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DealTag"},"title":"Response List Tags Deal Tags Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["deal-tags"],"summary":"Create Tag","description":"Cria nova tag.","operationId":"create_tag_deal_tags_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealTagCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealTag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deal-tags/{tag_id}":{"patch":{"tags":["deal-tags"],"summary":"Update Tag","description":"Atualiza tag.","operationId":"update_tag_deal_tags__tag_id__patch","parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealTagUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DealTag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["deal-tags"],"summary":"Delete Tag","description":"Remove tag.","operationId":"delete_tag_deal_tags__tag_id__delete","parameters":[{"name":"tag_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tag Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces":{"get":{"tags":["workspaces"],"summary":"List Workspaces","description":"Lista todos os workspaces do usuário.","operationId":"list_workspaces_workspaces_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Workspace"},"title":"Response List Workspaces Workspaces Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["workspaces"],"summary":"Create Workspace","description":"Cria novo workspace e gera API key automaticamente.","operationId":"create_workspace_workspaces_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/migrate-data":{"post":{"tags":["workspaces"],"summary":"Migrate Data To Default Workspace","description":"Migra dados sem workspace_id para o workspace default.","operationId":"migrate_data_to_default_workspace_workspaces_migrate_data_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}":{"get":{"tags":["workspaces"],"summary":"Get Workspace","description":"Retorna detalhes do workspace.","operationId":"get_workspace_workspaces__workspace_id__get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["workspaces"],"summary":"Update Workspace","description":"Atualiza workspace.","operationId":"update_workspace_workspaces__workspace_id__patch","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["workspaces"],"summary":"Delete Workspace","description":"Remove workspace (não pode remover o default).","operationId":"delete_workspace_workspaces__workspace_id__delete","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/set-default":{"post":{"tags":["workspaces"],"summary":"Set Default Workspace","description":"Define workspace como default.","operationId":"set_default_workspace_workspaces__workspace_id__set_default_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/workspaces/{workspace_id}/api-key":{"get":{"tags":["workspaces"],"summary":"Get Workspace Api Key","description":"Retorna API key do workspace.","operationId":"get_workspace_api_key_workspaces__workspace_id__api_key_get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["workspaces"],"summary":"Create Or Regenerate Workspace Api Key","description":"Cria ou regenera API key do workspace.","operationId":"create_or_regenerate_workspace_api_key_workspaces__workspace_id__api_key_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Workspace Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/summary":{"get":{"tags":["analytics"],"summary":"Get Summary","description":"Retorna resumo geral de todos ou alguns workspaces.\nSe workspace_ids vazio/null, retorna todos do owner.","operationId":"get_summary_analytics_summary_get","parameters":[{"name":"workspace_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"UUIDs separados por vírgula","title":"Workspace Ids"},"description":"UUIDs separados por vírgula"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyticsSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/deals":{"get":{"tags":["analytics"],"summary":"Get Deals Analytics","description":"Retorna analytics detalhados de deals por workspace.","operationId":"get_deals_analytics_analytics_deals_get","parameters":[{"name":"workspace_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workspace Ids"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/conversations":{"get":{"tags":["analytics"],"summary":"Get Conversations Analytics","description":"Retorna analytics de conversas por workspace.","operationId":"get_conversations_analytics_analytics_conversations_get","parameters":[{"name":"workspace_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workspace Ids"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/loss-reasons":{"get":{"tags":["loss-reasons"],"summary":"List Loss Reasons","description":"Lista motivos de perda.","operationId":"list_loss_reasons_loss_reasons_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Pipeline Id"}},{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Inactive"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LossReason"},"title":"Response List Loss Reasons Loss Reasons Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["loss-reasons"],"summary":"Create Loss Reason","description":"Cria novo motivo de perda.","operationId":"create_loss_reason_loss_reasons_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LossReasonCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LossReason"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/loss-reasons/{reason_id}":{"patch":{"tags":["loss-reasons"],"summary":"Update Loss Reason","description":"Atualiza motivo de perda.","operationId":"update_loss_reason_loss_reasons__reason_id__patch","parameters":[{"name":"reason_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reason Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LossReasonUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LossReason"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["loss-reasons"],"summary":"Delete Loss Reason","description":"Remove motivo de perda (soft delete - desativa).","operationId":"delete_loss_reason_loss_reasons__reason_id__delete","parameters":[{"name":"reason_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reason Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webhooks/{workspace_id}/deals":{"post":{"tags":["webhooks"],"summary":"Create Deal Via Workspace Webhook","description":"Cria um deal via webhook usando API key do workspace.\n\nURL: POST /webhooks/{workspace_id}/deals\n\nHeaders:\n    X-API-Key: API key do workspace (obrigatório)\n    X-Pipeline-Id: ID do pipeline (opcional, default primeiro pipeline)\n    X-Stage-Id: ID do stage (opcional, default primeiro stage)\n\nBody:\n    title: Nome do deal (obrigatório)\n    value: Valor do deal (opcional, default 0)\n    contact_id: ID do contato (opcional)\n    email_compra: Email de compra (opcional, vai para custom_fields)\n    telefone_contato: Telefone de contato (opcional, vai para custom_fields)\n    nome_completo: Nome completo (opcional, vai para custom_fields)\n    info: Informações formatadas (opcional)\n    custom_fields: Campos customizados genéricos (opcional)\n    tags: Lista de nomes de tags (cria automaticamente se não existir)\n\nExemplo de payload:\n    {\n        \"title\": \"Venda - João Silva\",\n        \"value\": 1500.00,\n        \"email_compra\": \"joao@email.com\",\n        \"telefone_contato\": \"+5511999999999\",\n        \"nome_completo\": \"João da Silva\",\n        \"tags\": [\"hotmart\", \"curso-x\"]\n    }\n\nNota: Campos estruturados (email_compra, telefone_contato, nome_completo)\nsão mesclados em custom_fields. Se houver conflito com campos genéricos\nem custom_fields, os campos estruturados prevalecem.","operationId":"create_deal_via_workspace_webhook_webhooks__workspace_id__deals_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","description":"ID do workspace (UUID)","title":"Workspace Id"},"description":"ID do workspace (UUID)"},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-Pipeline-Id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Pipeline-Id"}},{"name":"X-Stage-Id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Stage-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookDealCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webhooks/{workspace_id}/digistore24":{"post":{"tags":["webhooks"],"summary":"Digistore24 Webhook","description":"Webhook para receber compras do Digistore24.\nCria/vincula contato automaticamente pelo email.\nRegistra compra na tabela purchases.","operationId":"digistore24_webhook_webhooks__workspace_id__digistore24_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Digistore24WebhookPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/automations":{"get":{"tags":["automations"],"summary":"List Automation Rules","description":"Lista regras de automacao com filtros opcionais.","operationId":"list_automation_rules_automations_get","parameters":[{"name":"pipeline_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por pipeline","title":"Pipeline Id"},"description":"Filtrar por pipeline"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por status ativo","title":"Is Active"},"description":"Filtrar por status ativo"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AutomationRule"},"title":"Response List Automation Rules Automations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["automations"],"summary":"Create Automation Rule","description":"Cria nova regra de automacao.","operationId":"create_automation_rule_automations_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/automations/{rule_id}":{"get":{"tags":["automations"],"summary":"Get Automation Rule","description":"Retorna detalhes de uma regra de automacao.","operationId":"get_automation_rule_automations__rule_id__get","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["automations"],"summary":"Update Automation Rule","description":"Atualiza regra de automacao.","operationId":"update_automation_rule_automations__rule_id__patch","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRuleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["automations"],"summary":"Delete Automation Rule","description":"Remove regra de automacao.","operationId":"delete_automation_rule_automations__rule_id__delete","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/automations/{rule_id}/toggle":{"patch":{"tags":["automations"],"summary":"Toggle Automation Rule","description":"Ativa/desativa regra de automacao.","operationId":"toggle_automation_rule_automations__rule_id__toggle_patch","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutomationRule"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/automations/executions":{"get":{"tags":["automations"],"summary":"List All Executions","description":"Lista execucoes de automacoes globalmente ou filtradas por deal.","operationId":"list_all_executions_automations_executions_get","parameters":[{"name":"deal_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por deal","title":"Deal Id"},"description":"Filtrar por deal"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"default":20,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AutomationExecution"},"title":"Response List All Executions Automations Executions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/automations/{rule_id}/executions":{"get":{"tags":["automations"],"summary":"List Rule Executions","description":"Lista historico de execucoes de uma regra.","operationId":"list_rule_executions_automations__rule_id__executions_get","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por status: success ou failed","title":"Status"},"description":"Filtrar por status: success ou failed"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AutomationExecution"},"title":"Response List Rule Executions Automations  Rule Id  Executions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations":{"get":{"tags":["integrations"],"summary":"List Integrations","description":"Lista integration_accounts do usuario autenticado.\n\nQuery params:\n- type: Filtra por tipo de integracao (email_imap_smtp, openphone, telegram_user)","operationId":"list_integrations_integrations_get","parameters":[{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por tipo: email_imap_smtp, openphone, telegram_user","title":"Type"},"description":"Filtrar por tipo: email_imap_smtp, openphone, telegram_user"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IntegrationAccountResponse"},"title":"Response List Integrations Integrations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddTagRequest":{"properties":{"tag_id":{"type":"string","format":"uuid","title":"Tag Id"}},"type":"object","required":["tag_id"],"title":"AddTagRequest"},"AnalyticsSummary":{"properties":{"workspaces":{"items":{"$ref":"#/components/schemas/WorkspaceSummary"},"type":"array","title":"Workspaces"},"totals":{"type":"object","title":"Totals"}},"type":"object","required":["workspaces","totals"],"title":"AnalyticsSummary","description":"Resumo geral cross-workspace"},"Attachment":{"properties":{"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type"},"byte_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Byte Size"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"message_id":{"type":"string","format":"uuid","title":"Message Id"},"storage_bucket":{"type":"string","title":"Storage Bucket"},"storage_path":{"type":"string","title":"Storage Path"},"sha256":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha256"},"metadata":{"type":"object","title":"Metadata","default":{}},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","owner_id","message_id","storage_bucket","storage_path","sha256","created_at"],"title":"Attachment"},"AutomationActionType":{"type":"string","enum":["move_stage","update_field","create_task","send_notification","add_tag","send_message"],"title":"AutomationActionType"},"AutomationCondition":{"properties":{"field":{"type":"string","title":"Field"},"operator":{"type":"string","title":"Operator"},"value":{"title":"Value"}},"type":"object","required":["field","operator","value"],"title":"AutomationCondition"},"AutomationExecution":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"rule_id":{"type":"string","format":"uuid","title":"Rule Id"},"deal_id":{"type":"string","format":"uuid","title":"Deal Id"},"trigger_type":{"$ref":"#/components/schemas/AutomationTriggerType"},"trigger_data":{"type":"object","title":"Trigger Data","default":{}},"action_type":{"$ref":"#/components/schemas/AutomationActionType"},"action_data":{"type":"object","title":"Action Data","default":{}},"status":{"$ref":"#/components/schemas/AutomationExecutionStatus"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"executed_at":{"type":"string","format":"date-time","title":"Executed At"}},"type":"object","required":["id","owner_id","rule_id","deal_id","trigger_type","action_type","status","executed_at"],"title":"AutomationExecution"},"AutomationExecutionStatus":{"type":"string","enum":["success","failed"],"title":"AutomationExecutionStatus"},"AutomationRule":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"trigger_type":{"$ref":"#/components/schemas/AutomationTriggerType"},"trigger_config":{"type":"object","title":"Trigger Config","default":{}},"conditions":{"items":{"$ref":"#/components/schemas/AutomationCondition"},"type":"array","title":"Conditions","default":[]},"action_type":{"$ref":"#/components/schemas/AutomationActionType"},"action_config":{"type":"object","title":"Action Config","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["created_at","updated_at","name","trigger_type","action_type","id","owner_id","pipeline_id","is_active"],"title":"AutomationRule"},"AutomationRuleCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"trigger_type":{"$ref":"#/components/schemas/AutomationTriggerType"},"trigger_config":{"type":"object","title":"Trigger Config","default":{}},"conditions":{"items":{"$ref":"#/components/schemas/AutomationCondition"},"type":"array","title":"Conditions","default":[]},"action_type":{"$ref":"#/components/schemas/AutomationActionType"},"action_config":{"type":"object","title":"Action Config","default":{}},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"}},"type":"object","required":["name","trigger_type","action_type","pipeline_id"],"title":"AutomationRuleCreate"},"AutomationRuleUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"trigger_type":{"anyOf":[{"$ref":"#/components/schemas/AutomationTriggerType"},{"type":"null"}]},"trigger_config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Trigger Config"},"conditions":{"anyOf":[{"items":{"$ref":"#/components/schemas/AutomationCondition"},"type":"array"},{"type":"null"}],"title":"Conditions"},"action_type":{"anyOf":[{"$ref":"#/components/schemas/AutomationActionType"},{"type":"null"}]},"action_config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Action Config"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"AutomationRuleUpdate"},"AutomationTriggerType":{"type":"string","enum":["message_received","message_sent","stage_changed","time_in_stage","field_changed","deal_created"],"title":"AutomationTriggerType"},"ChannelType":{"type":"string","enum":["telegram","email","openphone_sms"],"title":"ChannelType"},"ConfigResponse":{"properties":{"function_key":{"type":"string","title":"Function Key"},"function_name":{"type":"string","title":"Function Name"},"function_description":{"type":"string","title":"Function Description"},"model_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Id"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"}},"type":"object","required":["function_key","function_name","function_description","model_id","model_name"],"title":"ConfigResponse","description":"Response com configuração de função."},"ConfigUpdate":{"properties":{"model_id":{"type":"string","title":"Model Id"}},"type":"object","required":["model_id"],"title":"ConfigUpdate","description":"Request para atualizar configuração de função."},"Contact":{"properties":{"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"display_name":{"type":"string","title":"Display Name"},"lead_stage":{"type":"string","title":"Lead Stage","default":"new"},"metadata":{"type":"object","title":"Metadata","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"}},"type":"object","required":["created_at","updated_at","display_name","id","owner_id"],"title":"Contact"},"ContactCreate":{"properties":{"display_name":{"type":"string","title":"Display Name"},"lead_stage":{"type":"string","title":"Lead Stage","default":"new"},"metadata":{"type":"object","title":"Metadata","default":{}}},"type":"object","required":["display_name"],"title":"ContactCreate"},"ContactHistoryResponse":{"properties":{"contact":{"type":"object","title":"Contact"},"purchases":{"items":{"type":"object"},"type":"array","title":"Purchases","default":[]},"deals":{"items":{"type":"object"},"type":"array","title":"Deals","default":[]},"conversations":{"items":{"type":"object"},"type":"array","title":"Conversations","default":[]},"stats":{"type":"object","title":"Stats","default":{}}},"type":"object","required":["contact"],"title":"ContactHistoryResponse"},"ContactIdentity":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"type":{"$ref":"#/components/schemas/IdentityType"},"value":{"type":"string","title":"Value"},"metadata":{"type":"object","title":"Metadata","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"value_normalized":{"type":"string","title":"Value Normalized"}},"type":"object","required":["created_at","updated_at","type","value","id","owner_id","contact_id","value_normalized"],"title":"ContactIdentity"},"ContactSyncResponse":{"properties":{"synced":{"type":"integer","title":"Synced"},"skipped":{"type":"integer","title":"Skipped"},"errors":{"type":"integer","title":"Errors"}},"type":"object","required":["synced","skipped","errors"],"title":"ContactSyncResponse","description":"Response da sincronização de contatos."},"ContactUpdate":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"lead_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lead Stage"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ContactUpdate"},"ContactWithIdentities":{"properties":{"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"display_name":{"type":"string","title":"Display Name"},"lead_stage":{"type":"string","title":"Lead Stage","default":"new"},"metadata":{"type":"object","title":"Metadata","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"identities":{"items":{"$ref":"#/components/schemas/ContactIdentity"},"type":"array","title":"Identities","default":[]}},"type":"object","required":["created_at","updated_at","display_name","id","owner_id"],"title":"ContactWithIdentities"},"Conversation":{"properties":{"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"status":{"$ref":"#/components/schemas/ConversationStatus","default":"open"},"metadata":{"type":"object","title":"Metadata","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"primary_identity_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Primary Identity Id"},"assigned_to_profile_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Assigned To Profile Id"},"last_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message At"},"last_inbound_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Inbound At"},"last_outbound_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Outbound At"},"last_channel":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"archived_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Archived At"}},"type":"object","required":["created_at","updated_at","id","owner_id","contact_id","primary_identity_id","assigned_to_profile_id","last_message_at","last_inbound_at","last_outbound_at","last_channel"],"title":"Conversation"},"ConversationStatus":{"type":"string","enum":["open","pending","resolved"],"title":"ConversationStatus"},"ConversationUpdate":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/ConversationStatus"},{"type":"null"}]},"assigned_to_profile_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Assigned To Profile Id"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"},"archived_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Archived At"}},"type":"object","title":"ConversationUpdate"},"ConversationWithDetails":{"properties":{"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"status":{"$ref":"#/components/schemas/ConversationStatus","default":"open"},"metadata":{"type":"object","title":"Metadata","default":{}},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"primary_identity_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Primary Identity Id"},"assigned_to_profile_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Assigned To Profile Id"},"last_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message At"},"last_inbound_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Inbound At"},"last_outbound_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Outbound At"},"last_channel":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"archived_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Archived At"},"contact":{"anyOf":[{"$ref":"#/components/schemas/Contact"},{"type":"null"}]},"primary_identity":{"anyOf":[{"$ref":"#/components/schemas/ContactIdentity"},{"type":"null"}]},"tags":{"items":{"$ref":"#/components/schemas/Tag"},"type":"array","title":"Tags","default":[]},"last_message_preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Message Preview"}},"type":"object","required":["created_at","updated_at","id","owner_id","contact_id","primary_identity_id","assigned_to_profile_id","last_message_at","last_inbound_at","last_outbound_at","last_channel"],"title":"ConversationWithDetails"},"Deal":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title"},"value":{"type":"string","title":"Value","default":"0"},"probability":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Probability","default":50},"expected_close_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Close Date"},"custom_fields":{"type":"object","title":"Custom Fields","default":{}},"info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"stage_id":{"type":"string","format":"uuid","title":"Stage Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"conversation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"},"won_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Won At"},"lost_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Lost At"},"lost_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lost Reason"},"archived_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Archived At"}},"type":"object","required":["created_at","updated_at","title","id","owner_id","pipeline_id","stage_id","contact_id","conversation_id","won_at","lost_at","lost_reason","archived_at"],"title":"Deal"},"DealActivity":{"properties":{"activity_type":{"$ref":"#/components/schemas/DealActivityType"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"deal_id":{"type":"string","format":"uuid","title":"Deal Id"},"is_completed":{"type":"boolean","title":"Is Completed"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"from_stage_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"From Stage Id"},"to_stage_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"To Stage Id"},"field_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field Name"},"old_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Old Value"},"new_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"New Value"},"message_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Message Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["activity_type","id","owner_id","deal_id","is_completed","due_date","from_stage_id","to_stage_id","field_name","old_value","new_value","message_id","created_at"],"title":"DealActivity"},"DealActivityCreate":{"properties":{"activity_type":{"$ref":"#/components/schemas/DealActivityType","default":"note"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"}},"type":"object","title":"DealActivityCreate"},"DealActivityType":{"type":"string","enum":["note","task","stage_change","field_change","message_link","created"],"title":"DealActivityType"},"DealActivityUpdate":{"properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"is_completed":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Completed"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"}},"type":"object","title":"DealActivityUpdate"},"DealCreate":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title"},"value":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Value","default":"0"},"probability":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Probability","default":50},"expected_close_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Close Date"},"custom_fields":{"type":"object","title":"Custom Fields","default":{}},"info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"stage_id":{"type":"string","format":"uuid","title":"Stage Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"conversation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"}},"type":"object","required":["title","pipeline_id","stage_id"],"title":"DealCreate"},"DealFile":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"file_url":{"type":"string","title":"File Url"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"deal_id":{"type":"string","format":"uuid","title":"Deal Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","file_url","id","owner_id","deal_id","created_at"],"title":"DealFile"},"DealFileCreate":{"properties":{"name":{"type":"string","title":"Name"},"file_url":{"type":"string","title":"File Url"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type"}},"type":"object","required":["name","file_url"],"title":"DealFileCreate"},"DealLoseRequest":{"properties":{"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"reason_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Reason Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"DealLoseRequest"},"DealMoveRequest":{"properties":{"stage_id":{"type":"string","format":"uuid","title":"Stage Id"}},"type":"object","required":["stage_id"],"title":"DealMoveRequest"},"DealProduct":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"value":{"type":"string","title":"Value","default":"0"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"deal_id":{"type":"string","format":"uuid","title":"Deal Id"},"product_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Product Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","owner_id","deal_id","created_at"],"title":"DealProduct"},"DealProductCreate":{"properties":{"product_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Product Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"value":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Value"}},"type":"object","title":"DealProductCreate"},"DealSendMessageRequest":{"properties":{"channel":{"type":"string","enum":["email","openphone_sms"],"title":"Channel"},"integration_account_id":{"type":"string","format":"uuid","title":"Integration Account Id"},"to_identity_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"To Identity Id"},"to_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Email"},"to_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Phone"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"body":{"type":"string","title":"Body"},"template_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Template Id"}},"type":"object","required":["channel","integration_account_id","body"],"title":"DealSendMessageRequest","description":"Request para enviar mensagem a partir de um deal."},"DealTag":{"properties":{"name":{"type":"string","maxLength":50,"minLength":1,"title":"Name"},"color":{"type":"string","title":"Color","default":"#6b7280"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","owner_id","created_at"],"title":"DealTag"},"DealTagCreate":{"properties":{"name":{"type":"string","maxLength":50,"minLength":1,"title":"Name"},"color":{"type":"string","title":"Color","default":"#6b7280"}},"type":"object","required":["name"],"title":"DealTagCreate"},"DealTagUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","title":"DealTagUpdate"},"DealUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"value":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Value"},"probability":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Probability"},"expected_close_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Close Date"},"custom_fields":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Custom Fields"},"stage_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Stage Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"conversation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"}},"type":"object","title":"DealUpdate"},"DealWithDetails":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title"},"value":{"type":"string","title":"Value","default":"0"},"probability":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Probability","default":50},"expected_close_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Close Date"},"custom_fields":{"type":"object","title":"Custom Fields","default":{}},"info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"stage_id":{"type":"string","format":"uuid","title":"Stage Id"},"contact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Contact Id"},"conversation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conversation Id"},"won_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Won At"},"lost_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Lost At"},"lost_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lost Reason"},"archived_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Archived At"},"stage":{"anyOf":[{"$ref":"#/components/schemas/Stage"},{"type":"null"}]},"contact":{"anyOf":[{},{"type":"null"}],"title":"Contact"},"products":{"items":{"$ref":"#/components/schemas/DealProduct"},"type":"array","title":"Products","default":[]},"products_total":{"type":"string","title":"Products Total","default":"0"}},"type":"object","required":["created_at","updated_at","title","id","owner_id","pipeline_id","stage_id","contact_id","conversation_id","won_at","lost_at","lost_reason","archived_at"],"title":"DealWithDetails"},"Digistore24WebhookPayload":{"properties":{"event":{"type":"string","title":"Event"},"order_id":{"type":"string","title":"Order Id"},"product_id":{"type":"string","title":"Product Id"},"product_name":{"type":"string","title":"Product Name"},"email":{"type":"string","title":"Email"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"amount":{"type":"number","title":"Amount"},"currency":{"type":"string","title":"Currency","default":"EUR"}},"additionalProperties":true,"type":"object","required":["event","order_id","product_id","product_name","email","amount"],"title":"Digistore24WebhookPayload","description":"Payload do webhook Digistore24 - campos principais."},"EmailAccountCreate":{"properties":{"label":{"type":"string","maxLength":100,"minLength":1,"title":"Label"},"email":{"type":"string","title":"Email"},"password":{"type":"string","minLength":1,"title":"Password"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"},"imap_host":{"type":"string","title":"Imap Host","default":"imap.gmail.com"},"imap_port":{"type":"integer","title":"Imap Port","default":993},"smtp_host":{"type":"string","title":"Smtp Host","default":"smtp.gmail.com"},"smtp_port":{"type":"integer","title":"Smtp Port","default":587}},"type":"object","required":["label","email","password","workspace_id"],"title":"EmailAccountCreate","description":"Criar conta Email."},"EmailAccountResponse":{"properties":{"id":{"type":"string","title":"Id"},"label":{"type":"string","title":"Label"},"email":{"type":"string","title":"Email"},"imap_host":{"type":"string","title":"Imap Host"},"smtp_host":{"type":"string","title":"Smtp Host"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","title":"Created At"},"last_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Error"}},"type":"object","required":["id","label","email","imap_host","smtp_host","is_active","created_at"],"title":"EmailAccountResponse","description":"Response conta Email."},"EmailSyncRequest":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"},"period":{"type":"string","enum":["1d","3d","7d"],"title":"Period","default":"1d"}},"type":"object","required":["account_id","workspace_id"],"title":"EmailSyncRequest","description":"Request para sync de emails."},"EmailSyncResponse":{"properties":{"emails_found":{"type":"integer","title":"Emails Found"},"emails_synced":{"type":"integer","title":"Emails Synced"},"conversations_created":{"type":"integer","title":"Conversations Created"}},"type":"object","required":["emails_found","emails_synced","conversations_created"],"title":"EmailSyncResponse","description":"Response do sync de emails."},"FeedbackRequest":{"properties":{"action":{"type":"string","title":"Action"},"final_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Final Content"}},"type":"object","required":["action"],"title":"FeedbackRequest","description":"Request para registrar feedback."},"FeedbackResponse":{"properties":{"feedback_id":{"type":"string","title":"Feedback Id"},"action":{"type":"string","title":"Action"}},"type":"object","required":["feedback_id","action"],"title":"FeedbackResponse","description":"Response do feedback."},"FunctionInfo":{"properties":{"key":{"type":"string","title":"Key"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"}},"type":"object","required":["key","name","description"],"title":"FunctionInfo","description":"Info sobre uma função de IA."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IdentityType":{"type":"string","enum":["telegram_user","email","phone"],"title":"IdentityType"},"IntegrationAccountResponse":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type"},"account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Name"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","type","account_name","is_active"],"title":"IntegrationAccountResponse"},"InternalSendSMSRequest":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id"},"text":{"type":"string","maxLength":1600,"minLength":1,"title":"Text"},"message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Id"}},"type":"object","required":["conversation_id","text"],"title":"InternalSendSMSRequest","description":"Request interno para n8n enviar SMS."},"InternalSendSMSResponse":{"properties":{"status":{"type":"string","title":"Status"},"external_id":{"type":"string","title":"External Id"},"from_phone":{"type":"string","title":"From Phone"},"to_phone":{"type":"string","title":"To Phone"}},"type":"object","required":["status","external_id","from_phone","to_phone"],"title":"InternalSendSMSResponse","description":"Response interno para n8n."},"LinkByEmailRequest":{"properties":{"email":{"type":"string","title":"Email"},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id"},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"}},"type":"object","required":["email"],"title":"LinkByEmailRequest"},"LinkByEmailResponse":{"properties":{"contact":{"type":"object","title":"Contact"},"identity":{"type":"object","title":"Identity"},"is_new":{"type":"boolean","title":"Is New"},"conversation_linked":{"type":"boolean","title":"Conversation Linked","default":false}},"type":"object","required":["contact","identity","is_new"],"title":"LinkByEmailResponse"},"LinkIdentityRequest":{"properties":{"identity_id":{"type":"string","format":"uuid","title":"Identity Id"}},"type":"object","required":["identity_id"],"title":"LinkIdentityRequest"},"LogEntry":{"properties":{"id":{"type":"string","title":"Id"},"timestamp":{"type":"string","title":"Timestamp"},"level":{"type":"string","title":"Level"},"source":{"type":"string","title":"Source"},"message":{"type":"string","title":"Message"},"details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["id","timestamp","level","source","message"],"title":"LogEntry","description":"Entrada de log."},"LogsResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/LogEntry"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["logs","total"],"title":"LogsResponse","description":"Response com logs."},"LossReason":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color","default":"#ef4444"},"position":{"type":"integer","title":"Position","default":0},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["id","name"],"title":"LossReason"},"LossReasonCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color","default":"#ef4444"},"pipeline_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pipeline Id"}},"type":"object","required":["name"],"title":"LossReasonCreate"},"LossReasonUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Position"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"LossReasonUpdate"},"MergeConversationRequest":{"properties":{"source_conversation_id":{"type":"string","format":"uuid","title":"Source Conversation Id"}},"type":"object","required":["source_conversation_id"],"title":"MergeConversationRequest"},"MessageDirection":{"type":"string","enum":["inbound","outbound"],"title":"MessageDirection"},"MessageSendRequest":{"properties":{"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Id"},"conversation_id":{"type":"string","format":"uuid","title":"Conversation Id"},"channel":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"integration_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Integration Account Id"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"attachments":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Attachments","default":[]},"reply_to_message_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Reply To Message Id"}},"type":"object","required":["conversation_id"],"title":"MessageSendRequest"},"MessageTranslation":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"message_id":{"type":"string","format":"uuid","title":"Message Id"},"source_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Lang"},"target_lang":{"type":"string","title":"Target Lang"},"provider":{"type":"string","title":"Provider"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"translated_text":{"type":"string","title":"Translated Text"},"metadata":{"type":"object","title":"Metadata","default":{}}},"type":"object","required":["created_at","updated_at","id","owner_id","message_id","source_lang","target_lang","provider","model","translated_text"],"title":"MessageTranslation"},"MessageWithAttachments":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"html":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Html"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"conversation_id":{"type":"string","format":"uuid","title":"Conversation Id"},"integration_account_id":{"type":"string","format":"uuid","title":"Integration Account Id"},"identity_id":{"type":"string","format":"uuid","title":"Identity Id"},"channel":{"$ref":"#/components/schemas/ChannelType"},"direction":{"$ref":"#/components/schemas/MessageDirection"},"external_message_id":{"type":"string","title":"External Message Id"},"external_chat_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Chat Id"},"external_reply_to_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Reply To Message Id"},"from_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Address"},"to_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Address"},"sent_at":{"type":"string","format":"date-time","title":"Sent At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"edited_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Edited At"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"raw_payload":{"type":"object","title":"Raw Payload","default":{}},"attachments":{"items":{"$ref":"#/components/schemas/Attachment"},"type":"array","title":"Attachments","default":[]},"translation":{"anyOf":[{"$ref":"#/components/schemas/MessageTranslation"},{"type":"null"}]}},"type":"object","required":["id","owner_id","conversation_id","integration_account_id","identity_id","channel","direction","external_message_id","external_chat_id","external_reply_to_message_id","from_address","to_address","sent_at","created_at","edited_at","deleted_at"],"title":"MessageWithAttachments"},"ModelCreate":{"properties":{"provider":{"type":"string","title":"Provider","default":"google"},"model_id":{"type":"string","title":"Model Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["model_id","name"],"title":"ModelCreate","description":"Request para criar modelo."},"ModelResponse":{"properties":{"id":{"type":"string","title":"Id"},"provider":{"type":"string","title":"Provider"},"model_id":{"type":"string","title":"Model Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","provider","model_id","name","description","is_active","created_at"],"title":"ModelResponse","description":"Response com dados do modelo."},"ModelUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ModelUpdate","description":"Request para atualizar modelo."},"OpenPhoneAccountCreate":{"properties":{"label":{"type":"string","maxLength":100,"minLength":1,"title":"Label"},"phone_number":{"type":"string","title":"Phone Number"},"api_key":{"type":"string","minLength":10,"title":"Api Key"}},"type":"object","required":["label","phone_number","api_key"],"title":"OpenPhoneAccountCreate","description":"Criar conta OpenPhone."},"OpenPhoneAccountResponse":{"properties":{"id":{"type":"string","title":"Id"},"label":{"type":"string","title":"Label"},"phone_number":{"type":"string","title":"Phone Number"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","label","phone_number","is_active","created_at"],"title":"OpenPhoneAccountResponse","description":"Response conta OpenPhone."},"Pipeline":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color","default":"#3b82f6"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"position":{"type":"integer","title":"Position"},"is_archived":{"type":"boolean","title":"Is Archived"}},"type":"object","required":["created_at","updated_at","name","id","owner_id","position","is_archived"],"title":"Pipeline"},"PipelineApiKey":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"api_key":{"type":"string","title":"Api Key"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","pipeline_id","api_key","created_at","updated_at"],"title":"PipelineApiKey"},"PipelineCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color","default":"#3b82f6"}},"type":"object","required":["name"],"title":"PipelineCreate"},"PipelineUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Position"},"is_archived":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Archived"}},"type":"object","title":"PipelineUpdate"},"PipelineWithStages":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color","default":"#3b82f6"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"position":{"type":"integer","title":"Position"},"is_archived":{"type":"boolean","title":"Is Archived"},"stages":{"items":{"$ref":"#/components/schemas/Stage"},"type":"array","title":"Stages","default":[]}},"type":"object","required":["created_at","updated_at","name","id","owner_id","position","is_archived"],"title":"PipelineWithStages"},"Product":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"value":{"type":"string","title":"Value","default":"0"},"sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sku"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","owner_id","is_active","created_at","updated_at"],"title":"Product"},"ProductCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"value":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Value","default":"0"},"sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sku"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["name"],"title":"ProductCreate"},"ProductUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"value":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Value"},"sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sku"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ProductUpdate"},"PromptCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"prompt_type":{"type":"string","title":"Prompt Type","default":"custom"},"content":{"type":"string","title":"Content"}},"type":"object","required":["name","content"],"title":"PromptCreate","description":"Request para criar prompt."},"PromptResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"prompt_type":{"type":"string","title":"Prompt Type"},"content":{"type":"string","title":"Content"},"is_active":{"type":"boolean","title":"Is Active"},"version":{"type":"integer","title":"Version"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","name","description","prompt_type","content","is_active","version","created_at","updated_at"],"title":"PromptResponse","description":"Response com dados do prompt."},"PromptTestRequest":{"properties":{"conversation_text":{"type":"string","title":"Conversation Text"}},"type":"object","required":["conversation_text"],"title":"PromptTestRequest","description":"Request para testar prompt."},"PromptTestResponse":{"properties":{"result":{"type":"string","title":"Result"}},"type":"object","required":["result"],"title":"PromptTestResponse","description":"Response do teste de prompt."},"PromptUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"PromptUpdate","description":"Request para atualizar prompt."},"PromptVersionResponse":{"properties":{"id":{"type":"string","title":"Id"},"prompt_id":{"type":"string","title":"Prompt Id"},"version":{"type":"integer","title":"Version"},"content":{"type":"string","title":"Content"},"created_at":{"type":"string","title":"Created At"},"change_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Change Reason"}},"type":"object","required":["id","prompt_id","version","content","created_at","change_reason"],"title":"PromptVersionResponse","description":"Response com versão do prompt."},"SendSMSRequest":{"properties":{"to":{"type":"string","title":"To"},"content":{"type":"string","maxLength":1600,"minLength":1,"title":"Content"},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id"}},"type":"object","required":["to","content"],"title":"SendSMSRequest","description":"Request para enviar SMS."},"SendSMSResponse":{"properties":{"message_id":{"type":"string","title":"Message Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["message_id","status"],"title":"SendSMSResponse","description":"Response do envio SMS."},"SignDownloadRequest":{"properties":{"attachment_id":{"type":"string","format":"uuid","title":"Attachment Id"}},"type":"object","required":["attachment_id"],"title":"SignDownloadRequest"},"SignDownloadResponse":{"properties":{"download_url":{"type":"string","title":"Download Url"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["download_url","expires_at"],"title":"SignDownloadResponse"},"SignUploadRequest":{"properties":{"file_name":{"type":"string","title":"File Name"},"mime_type":{"type":"string","title":"Mime Type"},"byte_size":{"type":"integer","title":"Byte Size"}},"type":"object","required":["file_name","mime_type","byte_size"],"title":"SignUploadRequest"},"SignUploadResponse":{"properties":{"upload_url":{"type":"string","title":"Upload Url"},"storage_path":{"type":"string","title":"Storage Path"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["upload_url","storage_path","expires_at"],"title":"SignUploadResponse"},"Stage":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"color":{"type":"string","title":"Color","default":"#6b7280"},"is_win":{"type":"boolean","title":"Is Win","default":false},"is_loss":{"type":"boolean","title":"Is Loss","default":false},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"pipeline_id":{"type":"string","format":"uuid","title":"Pipeline Id"},"position":{"type":"integer","title":"Position"}},"type":"object","required":["created_at","updated_at","name","id","owner_id","pipeline_id","position"],"title":"Stage"},"StageCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"color":{"type":"string","title":"Color","default":"#6b7280"},"is_win":{"type":"boolean","title":"Is Win","default":false},"is_loss":{"type":"boolean","title":"Is Loss","default":false}},"type":"object","required":["name"],"title":"StageCreate"},"StageReorderRequest":{"properties":{"stage_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Stage Ids"}},"type":"object","required":["stage_ids"],"title":"StageReorderRequest"},"StageUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Position"},"is_win":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Win"},"is_loss":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Loss"}},"type":"object","title":"StageUpdate"},"StartChatRequest":{"properties":{"telegram_user_id":{"type":"integer","title":"Telegram User Id"},"user_name":{"type":"string","title":"User Name"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"}},"type":"object","required":["telegram_user_id","user_name","workspace_id"],"title":"StartChatRequest","description":"Request para iniciar chat com usuário do Telegram."},"StartChatResponse":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id"},"identity_id":{"type":"string","title":"Identity Id"},"integration_account_id":{"type":"string","title":"Integration Account Id"},"created":{"type":"boolean","title":"Created"}},"type":"object","required":["conversation_id","identity_id","integration_account_id","created"],"title":"StartChatResponse","description":"Response com dados da conversa criada/encontrada."},"SuggestResponse":{"properties":{"suggestion_id":{"type":"string","title":"Suggestion Id"},"content":{"type":"string","title":"Content"},"suggestion_type":{"type":"string","title":"Suggestion Type","default":"reply_suggestion"}},"type":"object","required":["suggestion_id","content"],"title":"SuggestResponse","description":"Response com sugestão de resposta."},"SummaryResponse":{"properties":{"suggestion_id":{"type":"string","title":"Suggestion Id"},"content":{"type":"string","title":"Content"},"suggestion_type":{"type":"string","title":"Suggestion Type","default":"summary"}},"type":"object","required":["suggestion_id","content"],"title":"SummaryResponse","description":"Response com resumo da conversa."},"SyncHistoryRequest":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"period":{"type":"string","title":"Period"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"}},"type":"object","required":["account_id","period","workspace_id"],"title":"SyncHistoryRequest"},"SyncHistoryResponse":{"properties":{"jobs_created":{"type":"integer","title":"Jobs Created"},"job_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Job Ids"},"messages_synced":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Messages Synced"}},"type":"object","required":["jobs_created","job_ids"],"title":"SyncHistoryResponse"},"SyncJobStatus":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"conversation_id":{"type":"string","format":"uuid","title":"Conversation Id"},"status":{"type":"string","title":"Status"},"messages_synced":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Messages Synced"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","conversation_id","status","created_at"],"title":"SyncJobStatus"},"Tag":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"name":{"type":"string","maxLength":60,"minLength":1,"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"}},"type":"object","required":["created_at","updated_at","name","id","owner_id"],"title":"Tag"},"TagCreate":{"properties":{"name":{"type":"string","maxLength":60,"minLength":1,"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","required":["name"],"title":"TagCreate"},"TagUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":60,"minLength":1},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","title":"TagUpdate"},"TelegramStartAuthRequest":{"properties":{"phone_number":{"type":"string","title":"Phone Number"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"}},"type":"object","required":["phone_number","workspace_id"],"title":"TelegramStartAuthRequest"},"TelegramStartAuthResponse":{"properties":{"phone_code_hash":{"type":"string","title":"Phone Code Hash"},"message":{"type":"string","title":"Message"}},"type":"object","required":["phone_code_hash","message"],"title":"TelegramStartAuthResponse"},"TelegramVerify2FARequest":{"properties":{"phone_number":{"type":"string","title":"Phone Number"},"password":{"type":"string","title":"Password"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"}},"type":"object","required":["phone_number","password","workspace_id"],"title":"TelegramVerify2FARequest"},"TelegramVerify2FAResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"integration_id":{"type":"string","format":"uuid","title":"Integration Id"}},"type":"object","required":["success","integration_id"],"title":"TelegramVerify2FAResponse"},"TelegramVerifyCodeRequest":{"properties":{"phone_number":{"type":"string","title":"Phone Number"},"phone_code_hash":{"type":"string","title":"Phone Code Hash"},"code":{"type":"string","title":"Code"},"workspace_id":{"type":"string","format":"uuid","title":"Workspace Id"}},"type":"object","required":["phone_number","phone_code_hash","code","workspace_id"],"title":"TelegramVerifyCodeRequest"},"TelegramVerifyCodeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"needs_2fa":{"type":"boolean","title":"Needs 2Fa","default":false},"integration_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Integration Id"}},"type":"object","required":["success"],"title":"TelegramVerifyCodeResponse"},"Template":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"channel_hint":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"shortcut":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shortcut"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"}},"type":"object","required":["created_at","updated_at","title","content","id","owner_id"],"title":"Template"},"TemplateCreate":{"properties":{"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"channel_hint":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"shortcut":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shortcut"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"}},"type":"object","required":["title","content"],"title":"TemplateCreate"},"TemplateUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"channel_hint":{"anyOf":[{"$ref":"#/components/schemas/ChannelType"},{"type":"null"}]},"shortcut":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shortcut"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"}},"type":"object","title":"TemplateUpdate"},"TranscriptionResponse":{"properties":{"attachment_id":{"type":"string","title":"Attachment Id"},"transcription":{"type":"string","title":"Transcription"},"message_id":{"type":"string","title":"Message Id"},"translated_transcription":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Translated Transcription"}},"type":"object","required":["attachment_id","transcription","message_id"],"title":"TranscriptionResponse"},"TranslateConversationRequest":{"properties":{"target_lang":{"type":"string","title":"Target Lang","default":"pt-BR"}},"type":"object","title":"TranslateConversationRequest"},"TranslateConversationResponse":{"properties":{"translated_count":{"type":"integer","title":"Translated Count"},"skipped_count":{"type":"integer","title":"Skipped Count"},"translations":{"items":{"$ref":"#/components/schemas/TranslationItem"},"type":"array","title":"Translations","default":[]}},"type":"object","required":["translated_count","skipped_count"],"title":"TranslateConversationResponse"},"TranslateDraftRequest":{"properties":{"text":{"type":"string","title":"Text"},"target_lang":{"type":"string","title":"Target Lang","default":"en"},"provider":{"type":"string","title":"Provider","default":"deepl"}},"type":"object","required":["text"],"title":"TranslateDraftRequest","description":"Request para traduzir rascunho."},"TranslateDraftResponse":{"properties":{"translated_text":{"type":"string","title":"Translated Text"},"source_lang":{"type":"string","title":"Source Lang","default":"pt"},"target_lang":{"type":"string","title":"Target Lang","default":"en"},"provider":{"type":"string","title":"Provider","default":"deepl"}},"type":"object","required":["translated_text"],"title":"TranslateDraftResponse","description":"Response da tradução de rascunho."},"TranslateMessageRequest":{"properties":{"target_lang":{"type":"string","title":"Target Lang","default":"pt-BR"}},"type":"object","title":"TranslateMessageRequest"},"TranslateMessageResponse":{"properties":{"translation_id":{"type":"string","format":"uuid","title":"Translation Id"},"source_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Lang"},"target_lang":{"type":"string","title":"Target Lang"},"translated_text":{"type":"string","title":"Translated Text"}},"type":"object","required":["translation_id","source_lang","target_lang","translated_text"],"title":"TranslateMessageResponse"},"TranslationItem":{"properties":{"message_id":{"type":"string","title":"Message Id"},"translated_text":{"type":"string","title":"Translated Text"},"source_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Lang"}},"type":"object","required":["message_id","translated_text","source_lang"],"title":"TranslationItem"},"UnlinkIdentityRequest":{"properties":{"identity_id":{"type":"string","format":"uuid","title":"Identity Id"}},"type":"object","required":["identity_id"],"title":"UnlinkIdentityRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebhookDealCreate":{"properties":{"title":{"type":"string","title":"Title"},"value":{"type":"number","title":"Value","default":0},"contact_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Id"},"email_compra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email Compra"},"telefone_contato":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefone Contato"},"nome_completo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nome Completo"},"info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info"},"custom_fields":{"type":"object","title":"Custom Fields","default":{}},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]}},"type":"object","required":["title"],"title":"WebhookDealCreate","description":"Payload para criar deal via webhook."},"WorkerStatusItem":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"label":{"type":"string","title":"Label"},"status":{"type":"string","title":"Status"},"last_heartbeat":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Heartbeat"}},"type":"object","required":["account_id","label","status","last_heartbeat"],"title":"WorkerStatusItem"},"WorkersStatusResponse":{"properties":{"telegram":{"items":{"$ref":"#/components/schemas/WorkerStatusItem"},"type":"array","title":"Telegram","default":[]},"email":{"items":{"$ref":"#/components/schemas/WorkerStatusItem"},"type":"array","title":"Email","default":[]}},"type":"object","title":"WorkersStatusResponse"},"Workspace":{"properties":{"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color","default":"#3b82f6"},"icon":{"type":"string","title":"Icon","default":"briefcase"},"id":{"type":"string","format":"uuid","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"is_default":{"type":"boolean","title":"Is Default"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","owner_id","is_default","created_at","updated_at"],"title":"Workspace"},"WorkspaceCreate":{"properties":{"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color","default":"#3b82f6"},"icon":{"type":"string","title":"Icon","default":"briefcase"}},"type":"object","required":["name"],"title":"WorkspaceCreate"},"WorkspaceSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"color":{"type":"string","title":"Color"},"deals_count":{"type":"integer","title":"Deals Count","default":0},"deals_value":{"type":"number","title":"Deals Value","default":0},"conversations_count":{"type":"integer","title":"Conversations Count","default":0},"unread_count":{"type":"integer","title":"Unread Count","default":0}},"type":"object","required":["id","name","color"],"title":"WorkspaceSummary","description":"Resumo de um workspace para analytics"},"WorkspaceUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"}},"type":"object","title":"WorkspaceUpdate"}}}}